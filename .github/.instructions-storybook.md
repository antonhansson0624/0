# Storybook App

Interactive component development and visual testing environment for Vuetify0 components.

## App Standards

- **Location**: `apps/storybook/`
- **Framework**: Storybook for Vue 3 + Vite
- **Purpose**: Component development, visual regression testing, documentation
- **Styling**: UnoCSS integration for utility classes

## App Structure

```
apps/storybook/
├── .storybook/           # Storybook configuration
│   └── main.ts          # Main Storybook config
├── stories/             # Component stories
│   ├── Avatar.stories.ts
│   └── ...              # Stories for each component
├── package.json
├── vite.config.ts       # Storybook-specific Vite config
└── uno.config.ts        # UnoCSS configuration
```

## Storybook Commands

From the storybook directory (`apps/storybook/`):

- `pnpm storybook` - Start Storybook development server
- `pnpm build-storybook` - Build static Storybook site

## Story Development

### Story Structure

Create stories for each component following this pattern:

```typescript
// Avatar.stories.ts
import type { Meta, StoryObj } from '@storybook/vue3'
import { Avatar } from '@vuetify/0'

const meta: Meta<typeof Avatar.Root> = {
  title: 'Components/Avatar',
  component: Avatar.Root,
  parameters: {
    layout: 'centered',
  },
  argTypes: {
    // Define controls for props
  },
}

export default meta
type Story = StoryObj<typeof meta>

export const Default: Story = {
  args: {
    // Default prop values
  },
}

export const WithImage: Story = {
  args: {
    // Props for image variant
  },
}

export const Fallback: Story = {
  args: {
    // Props for fallback state
  },
}
```

### Story Categories

Organize stories by category:

- **Components**: Core and Paper components
- **Composables**: Interactive composable demos
- **Examples**: Complex usage examples
- **Themes**: Theme switching demonstrations

## Visual Testing

Use Storybook for:

1. **Component Variants**: All possible component states
2. **Props Testing**: Interactive prop controls
3. **Visual Regression**: Screenshot comparison
4. **Responsive Testing**: Different viewport sizes
5. **Theme Testing**: Multiple theme variations

## Component Documentation

Each story should include:

1. **Description**: Component purpose and use cases
2. **Args Table**: Automatic prop documentation
3. **Controls**: Interactive prop controls
4. **Source Code**: Automatically generated code examples
5. **Multiple Variants**: Different component states

## Integration with Workspace

Storybook is configured to:

- **Import Components**: Direct access to workspace packages
- **Theme Integration**: Full theme system support
- **Auto-imports**: Same auto-import setup as other apps
- **UnoCSS**: Utility classes for story layouts

## Development Workflow

1. **Create Stories**: Add stories for new components
2. **Test Variants**: Cover all component states
3. **Document Props**: Ensure all props are documented
4. **Visual Review**: Review components visually
5. **Share Examples**: Use for design review

## Storybook Configuration

### Main Configuration

```typescript
// .storybook/main.ts
const config: StorybookConfig = {
  stories: [
    '../stories/**/*.stories.@(js|jsx|mjs|ts|tsx)',
  ],
  addons: [
    // Core addons for Vue components
  ],
  framework: {
    name: '@storybook/vue3-vite',
    options: {
      docgen: {
        plugin: 'vue-component-meta',
        tsconfig: 'tsconfig.json',
      },
    },
  },
}
```

### Vite Integration

The Storybook Vite config includes:

- **Rolldown**: Experimental fast build
- **UnoCSS**: Utility class support
- **Workspace Aliases**: Package imports
- **Vue Support**: Full Vue 3 integration

## Story Examples

### Basic Component Story

```typescript
export const BasicExample: Story = {
  render: (args) => ({
    components: { Avatar },
    setup() {
      return { args }
    },
    template: `
      <Avatar.Root v-bind="args">
        <Avatar.Image src="/avatar.jpg" alt="User" />
        <Avatar.Fallback>JD</Avatar.Fallback>
      </Avatar.Root>
    `,
  }),
}
```

### Interactive Composable Story

```typescript
export const ThemeDemo: Story = {
  render: () => ({
    setup() {
      const { theme, themes, setTheme } = useTheme()
      return { theme, themes, setTheme }
    },
    template: `
      <div>
        <p>Current theme: {{ theme }}</p>
        <button
          v-for="t in themes"
          :key="t"
          @click="setTheme(t)"
        >
          {{ t }}
        </button>
      </div>
    `,
  }),
}
```

## Build Output

Storybook builds to a static site including:

- **Component Documentation**: Auto-generated from TypeScript
- **Interactive Examples**: All component variants
- **Source Code**: Viewable code for each story
- **Assets**: Optimized for fast loading
